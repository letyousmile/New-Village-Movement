# 스케줄러

##### 프로세스를 스케줄링하기 위한 큐에는 세가지 종류가 존재한다.

- Job Queue: 현재 시스템 내에 있는 모든 프로세스의 집합
- Ready Queue: 현재 메모리 내에 있으면서 CPU를 잡아서 실행되기를 기다리는 프로세스의 집합
- Device Queue: Device I/O 작업을 대기하고 있는 프로세스의 집합

##### 스케줄러도 세가지 종류가 존재함

- 장기스케줄러
  - 메모리는 한정되어 있는데 많은 프로세스들이 한꺼번에 메모리에 올라올 경우
  - 대용량 메모리(디스크)에 임시로 저장한다
  - 이 POOL에 있는 프로세스 중 어떤 프로세스에 메모리를 할당하여 큐로 보낼지 결정
    - 메모리와 디스크 사이의 스케줄링 담당
    - 프로세스에 메모리를 할당
    - 메모리에 몇개의 프로그램이 올라갈 지 제어
    - 프로세스의 상태를 new -> ready로 변경
- 단기스케줄러
  - CPU와 메모리 사이의 스케줄링 담당
  - Ready queue에 존재하는 프로세스 중 어떤걸 running 시킬지 결정
  - 프로세스에 CPU를 할당
  - 프로세스의 상태
    - ready -> running -> waiting -> ready
- 중기스케줄러
  - 여유공간 마련을 위해 프로세스를 통째로 메모리에서 쫓아냄
  - 메모리에 올라가있는 프로그램 개수 제어
  - 프로세스의 상태를 
    - ready->suspended

##### CPU 스케줄러 

##### *스케줄링 대상은 READY QUEUE에 있는 애들*

- FCFS(First Come First Served - FIFO)
  - 먼저오면 먼저 처리
  - 비선점형이라 애가 될떄까지 다른거 안됨
  - 문제점
    - 소요시간이 긴 프로세스가 먼저 오면 너무 오래기다려야함
- SJF (Shortest Job First)
  - 다른 프로세스가 먼저 도착했어도 더 짧게 끝날 프로세스에게 할당
  - 비선점형
  - 문제점
    - 긴 프로세스들이 영원히 CPU를 할당 못받음
- SRT(Shortest Remaining time First)
  - 새로운 프로세스가 도착할 떄마다 새로 스케줄링
  - 선점형이라 뻇을 수 있음
  - 현재 수행중인 프로세스의 남은 time보다 더 짧은 애가 가져오면 뺏김
  - 문제점
    - 이것도 영원히 CPU할당 못받을 수 있음
    - 새로운 프로세스가 올때마다 스케줄링 다시해서 측정이 힘듦
- Priority Scheduling
  - 우선순위가 높은 프로세스에게 CPU 할당
  - 선점형이면 - 더 높은 우선수위가 오면 뺏어서 할당
  - 비선점 - 높으면 헤드에 할당
  - 문제점
    - 이것도 우선순위 낮은애들은 평생 못받음
    - 실행 준비는 되어있는데 CPU를 사용못하는 프로세스가 계속 대기만함
  - 해결책
    - 오래기다리면 우선순위 높여주는 aging 기법
- Round Robin
  - 현대적인 CPU 스케줄링
  - 각 프로세스는 동일한 크기의 할당시간을 갖고
  - 그 시간마다 cpu를 쓰게 됨
  - 랜덤한 프로세스가 있을때 효율적이고
  - context를 save하기 떄문에 가능함
  - 장점
    - 응답시간이 빨라짐! 어떤 프로세스도 굶을 걱정안해도됨
  - 단점
    - 설정한 시간간격이 너무 커지면 걍 FIFO가 되버림. 
    - 설정한 시간간격이 너무 작으면 문맥교환 비용이 너무 커져버림

