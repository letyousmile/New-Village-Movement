# DB

##### 정규화

- 정규화는 왜 하는걸까?
  - 한 릴레이션에 여러 엔티티의 애튜리뷰트를 혼합하면 정보가 중복 저장되며 공간을 낭비하게 됨. 중복된 정보로 인해 갱신이상이 발생하게 된다. 이래서 정규화 함
  - 갱신이상은 어떤게 있을까?
    - 삽입이상 : 원하지 않는 자료가 삽입된다던지 자료가 부족해 삽입이 안된다
    - 삭제이상: 하나만 삭제하고 싶은데 다 삭제됨
    - 수정이상: 정확하지 않거나 일부만 갱신되서 정보고 모호해지거나 일관성이 없어짐
- 정규화는 그래서 뭘까?
  - 중복을 최소화 하기 위해 데이터를 구조화하는 작업
  - 불만족스러운 나쁜 릴레이션의 애트리뷰트들을 나누어서 좋은 작은 릴레이션으로 분해
  - 나쁜 릴레이션은 뭘까?
    - 종속성을 판단하고, 그걸 기준으로 정규형을 정의함
  - 함수적 종속성은 뭘까?
    - 서로 상호관계로부터 유도되는 제약조건의 일종
- 제 1정규형
  - 오직 원자값만 포함함 - 한 도메인이 한가지 값만 가짐!
- 제 2정규형
  - 비주요 애트리뷰트들이 주요 애트리뷰트들에 대해 완전 함수적 종속이다.
  - 완저 함수적 종속이란, X->Y 이면 X의 어떠한 애트리뷰트라도 제거되면 더이상 함수적 종속성이 성립하지 않는 경우. 즉, 키가 아닌 열들이 각각 후보키에 대해 결정된다
- 제 3 정규형
  - 어떠한 비주요 애트리뷰트도 기본키에 대해서 이행적으로 종속되지 않는다.
  - 즉, X->Y 이고 Y->Z 이면 X->Z 인게 이행적 종속성인데, 이런게 없다.
- 정규화 하면 뭐가 좋을까?
  - 이상현상이 사라짐
  - 확장 시 구조를 변경하지 않아도 되거나 일부만 변경해도 됨
  - 사용자에게 데이터 모델을 더욱 의미있게 제공
- 뭐가 안좋을까?
  - 조인이 많아져서 느려질 수 있음
  - 테이블들을 많이 불러야해서 느려질 수 있음
  - 그러나 이건 중복을 제거해서 더 빨라질 수도 있음->잘해야함
- 반정규화
  - 너무 쪼개졌으면 통합, 분리해야한다
  - 테이블에 엑세스하는 프로세스 수가 너무 많고
  - 지나치게 조인을 많이해서 기술적으로 어렵고
  - 대량 데이터가 너무 많음

