# SQL-FUNCTION
## FUNCTION
SQL에서 사용되는 함수에는 두 가지가 있다.
- 단일행 함수: 데이터를 한번에 하나씩만 처리하는 함수
- 복수행(그룹) 함수: 여러건의 데이터를 동시에 입력받아 결과값 하나를 만들어주는 함수

### DUAL TABLE
결과를 한 행으로 출력하기 위해 사용되는 더미 테이블이다. 산술 연산, 함수의 결과값 등을 출력하기 위해 많이 사용한다.
```sql
-- example
SELECT SYSDATE FROM DUAL:
```
DUAL TABLE은 더미컬럼 하나로 구성되어 있다.
## 단일행 함수
### 숫자함수
- `ABS(숫자)`: 절대값을 구하는 함수
- `FLOOR(숫자)`: 소수점 아래를 버리는 함수
- `ROUND(숫자)`, `ROUND(숫자, 자리수)`: 특정 자리수에서 반올림(자리수가 음수일 경우 일 > 십 > 백 > 천 ... 단위로)
- `TRUNC(숫자, 자리수)`: 특정 자릿수에서 버림연산하는 함수
- `MOD(피제수, 제수)`: 피제수를 제수로 나누었을 때 나머지를 구하는 함수 
### 문자처리 함수
- `UPPER(문자열)`: 대문자로 변환하는 함수
- `LOWER(문자열)`: 소문자로 변환하는 함수
- `INITCAP(문자열)`: 이니셜만 대문자로 변환하는 함수
- `LENGTH(문자열)`: 문자열 길이를 구하는 함수
- `LENGTHB(문자열)`: 문자열의 바이트 수를 알려주는 함수(DB CHARACTER SET 에 따라 다름)
- `INSTR(문자열, 문자)`: 문자열에서 특정 문자가 저장된 위치(INDEX)를 반환하는 함수(ORACLE의 인덱스는 0이 아니라 1부터임)
- `SUBSTR(문자열, 시작위치, 추출개수)`: 문자열에서 시작위치(INDEX)부터 추출개수 만큼의 문자열을 추출해내는 함수
- `SUBSTRB(문자열, 시작위치, 추출개수)`: `SUBSTR`과 동일하지만 바이트단위로 연산
- `LPAD(문자열, 길이, 채울문자)`: 길이만큼 자리를 마련하고 문자열을 오른쪽 정렬시킨 후 남는 자리에 채울문자를 채우는 함수
- `RPAD(문자열, 길이, 채울문자)`: 문자열을 왼쪽 정렬시킨후 `LPAD`와 동일
- `LTRIM(문자열)`: 문자열의 왼쪽 공백을 삭제하는 함수
- `RTRIM(문자열)`: 문자열의 오른쪽 공백을 삭제하는 함수
- `TRIM(문자 FROM 문자열)`: 문자열에서 특정 문자를 잘라내는 함수
    ```sql
    SELECT TRIM('a' FROM 'abcdefaa') FROM DUAL
    ```
### 날짜 함수
- 날짜 연산
    - 날짜 + 숫자: 그 날짜로부터 그 기간만큼 지난 날짜
    - 날짜 - 숫자: 그 날짜로부터 그 기간만큼 이전 날짜
    - 날짜 - 날짜: 두 날짜사이의 기간(기본값=일단위)

- `SYSDATE`: 현재 날짜를 반환하는 함수(초단위까지 반환)
    - `SYSDATE + 1`: 내일 날짜
    - `SYSDATE - 1`: 어제 날짜
- `MONTHS_BETWEEN(날짜1, 날짜2)`: 두 날짜 사이의 개월수를 구하는 함수(결과값이 소수로 나옴)
- `ADD_MONTHS(날짜, 개월수)`: 날짜에서 특정 개월수를 더한 날짜를 구하는 함수
- `NEXT_DAY(날짜, 요일)`: 해당 날짜에서 바로 다음 돌아오는 특정요일의 날짜를 구하는 함수
    ```sql
    SELECT NEXT_DAY(SYSDATE, '목요일') FROM DUAL
    ```
- `LAST_DAY(날짜)`: 해당 월의 마지막 날짜를 반환하는 함수
### 형 변환 함수
- `TO_CHAR(날짜, 출력형식)`: 날짜형이나 숫자형을 문자형으로 변환하는 함수
    ```sql
    SELECT TO_CHAR(SYSDATE, 'YYYY-MM-DD') FROM DUAL;
    ```
- `TO_DATE(문자열, 날짜형식)`: 숫자형이나 문자형을 날짜형으로 변환하는 함수
    ```sql
    SELECT TO_DATE('20200610', 'YYYYMMDD') FROM DUAL
    ```
- `TO_NUMBER(문자형, 숫자형식)`: 문자형을 숫자형으로 변환하는 함수
    ```sql
    SELECT TO_NUMBER('1230400', '9,999,999') FROM DUAL
    ```
    